# SuccessRiver AcademicCareerChart

## 概要

「SuccessRiver AcademicCareerChart」は、@rei_nariさん考案のキャリアイベント図を、研究者情報データベースresearchmapのエクスポートデータから自動生成するツールです。

本プロジェクトは、松田裕貴さん(@yukimatJP)のオリジナル版をフォークし、ユーザビリティとエクスポート機能を大幅に改善した改良版です。

## 主な機能

- **researchmap連携** researchmapのエクスポートファイル（`.jsonl`）を読み込むだけで、キャリア情報を自動で解析します。

- **高機能なキャリアチャート**
  - **論文業績**: 著者の役割（筆頭かつ責任／筆頭のみ／責任のみ／共著）を4つの色で明確に区別して表示します。
  - **研究費・経歴**: 獲得した研究費や学歴・職歴を、重複があっても見やすいタイムライン形式で可視化します。

- **柔軟なカスタマイズ**
  - チャートの表示幅をスライダーで直感的に調整できます。
  - 論文の種類や代表者以外の予算など、項目ごとに表示のON/OFFを切り替え可能です。
  - テキストの表示方法を「ホバー時のみ」と「常時表示」から選択できます。
  - **高さ自動調整**: 「常時表示」モードでは、テキストの長さに応じてバーの高さが自動的に調整され、全文を確実に表示します。

- **完璧なエクスポート機能**
  - **HTMLとして保存**: メイン画面の見た目を**完全に再現**した、単一のHTMLファイル (`career-chart.html`) を生成し、ダウンロードできます。
  - **埋め込み対応**: ダウンロードしたHTMLファイルをサーバーに置くことで、ご自身のウェブサイトやブログに`<iframe>`で簡単にチャートを埋め込めます。
  - **印刷プレビュー**: 印刷に最適化された、見たままのチャートを新しいタブで表示します。ブラウザの印刷機能で、そのままPDF化や紙への印刷が可能です。

## 使用方法

### 1. チャートの生成と調整

1. **researchmapデータの準備**: researchmapにログインし、「データのエクスポート」から**JSONL形式**でデータをダウンロードします。
2. **実行**: この`career-chart.html`をブラウザで開き、「ファイルを選択」ボタンからダウンロードした`.jsonl`ファイルを選択します。
3. **設定調整**: 「表示オプション」セクションで、チャートの横幅や表示項目などを好みに合わせて調整します。

### 2. エクスポートと共有

1. **HTMLを保存**:
   - 「**HTMLを保存**」ボタンをクリックします。
   - `career-chart.html`という名前で、表示されているチャートと全く同じ見た目のファイルがダウンロードされます。

2. **ウェブサイトへの埋め込み**:
   - 「**埋め込み方法を表示**」ボタンをクリックします。
   - テキストエリアに表示される手順に従ってください。
     1. 先ほどダウンロードした`career-chart.html`を、あなたのウェブサイトのサーバーにアップロードします。（埋め込みたいページと同じ階層に置くと簡単です）
     2. 表示された`<iframe>`コードをコピーし、あなたのサイトのHTMLに貼り付けます。

3. **印刷**:
   - 「**印刷プレビュー**」ボタンをクリックすると、印刷に最適化された画面が新しいタブで開きます。その後、ブラウザの印刷機能をご利用ください。

## 色分け仕様 (著者タイプ)

| 著者タイプ | 色・Hexコード | 重要度 |
|---|---|---|
| 筆頭著者かつ責任著者 | 🔴 濃い赤 (`#d73027`) | 最高 |
| 筆頭著者のみ | 🟠 オレンジ (`#fc8d62`) | 高 |
| 責任著者のみ | 🔵 青 (`#8da0cb`) | 中 |
| その他共著者 | 🟣 薄いピンク (`#e78ac3`) | 低 |

## 更新履歴

- **v2.0.0 (2025/06/13)**
  - エクスポート機能を刷新。「スタンドアロンHTML生成」および「印刷プレビュー」で、メイン画面の見た目を完全に再現するように変更。

- **v1.0.x (旧バージョン)**
  - フォーク版の初期開発。カラーブラインドセーフ対応、テキスト見切れ問題の修正、各種情報表示の改善などを実施。

## クレジット・謝辞

- **オリジナル開発者**: 松田裕貴 (@yukimatJP)
- **キャリアイベント図考案**: @rei_nariさん
- **改良版開発**: 多田塁：Rui Tada
- **オリジナルプロジェクト**: SuccessRiverAcademicCareerChartJS
